$dropdown-list-padding         : 10px !default;
$dropdown-list-background      : $white !default;
$dropdown-list-font-size       : $font-size-extra-small !default;
$dropdown-list-icon-transition : transform 0.3s, opacity 0.3s !default;
$dropdown-list-icon-color      : $gray !default;
$dropdown-list-icon-width      : 10px !default;
$dropdown-list-icon-height     : 6px !default;
$dropdown-list-icon-top        : 20px !default;
$dropdown-list-icon-right      : 15px !default;
$dropdown-list-icon-inner-base : 8px !default;
$dropdown-list-link-color      : $font-color-base !default;
$dropwodn-list-inner-item-color: $color-primary !default;

.dropdown-list {
    width: 100%;
    position: relative;
    padding: $dropdown-list-padding;
    background-color: $dropdown-list-background;

    @include mq($screen-l) {
        max-width: 320px;
    }

    @include mq($screen-xl) {
        padding-left: 0;
    }

    &--item-wide {
        .dropdown-list__list {
            @include mq($min-screen: $screen-m, $max-screen: $screen-xl) {
                flex-flow: row wrap;
            }
        }

        .dropdown-list__item {
            flex-basis: 100%;
        }
    }

    &__list {
        display: block;
        width: 100%;
        list-style-type: none;
        padding: 0;
        margin: 0;

        @include mq($min-screen: $screen-m, $max-screen: $screen-l) {
            display: flex;
            flex-flow: row nowrap;
            justify-content: space-between;
            align-items: flex-start;
        }
    }

    &__icon {
        position: absolute;
        top: $dropdown-list-icon-top;
        right: $dropdown-list-icon-right;
        width: $dropdown-list-icon-width;
        height: $dropdown-list-icon-height;
        color: $dropdown-list-icon-color;
        transition: $dropdown-list-icon-transition;

        @include mq($screen-m) {
            right: 10px;
        }

        &--inner {
            width: $dropdown-list-icon-inner-base;
            height: $dropdown-list-icon-inner-base;
            top: 15px;
            opacity: 0.7;
        }
    }

    &__item {
        position: relative;
        display: block;
        width: 100%;
        padding: 0;
        font-weight: 700;
        font-size: $dropdown-list-font-size;
        text-transform: uppercase;
        cursor: pointer;
        transition: box-shadow 0.5s;

        @include mq($min-screen: $screen-m, $max-screen: $screen-xl) {
            flex-basis: 24%;

            &:hover {
                box-shadow: 0 3px 18px 0 rgba(0, 0, 0, 0.13);
            }
        }

        &.open {
            @include mq($min-screen: $screen-m, $max-screen: $screen-xl) {
                box-shadow: 0 3px 18px 0 rgba(0, 0, 0, 0.13);
            }

            .filter__list {
                margin-top: 10px;
            }

            .dropdown-list__link {
                text-decoration: none;

                & > .dropdown-list__icon {
                    transform: rotate(180deg);
                }
                @include mq($min-screen: $screen-m, $max-screen: $screen-xl) {
                    &:after {
                        visibility: visible;
                    }
                }
            }
        }
    }

    &__link {
        text-decoration: none;

        @include links(active) {
            display: block;
            padding: 15px;
            font-weight: 700;
            color: $dropdown-list-link-color;
            transition: box-shadow 0.5s;

            @include mq($screen-m) {
                padding: 15px 22px 15px 15px;
            }
        }

        @include links(hover) {
            color: $dropdown-list-link-color;
            text-decoration: none;
            box-shadow: 0 3px 18px 0 rgba(0, 0, 0, 0.13);

            @include mq($min-screen: $screen-m, $max-screen: $screen-xl) {
                box-shadow: none;
            }
        }

        // hack to set box-shadow on opening absolute list and title element
        &:after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            height: 10px;
            background-color: $dropdown-list-background;
            width: 100%;
            z-index: 109;
            visibility: hidden;
            transition: visibility 0.5s;
        }
    }

    &__inner-list {
        list-style-type: none;
        display: block;
        height: 0;
        padding: 0;
        margin: 0;
        overflow: hidden;
        transition: margin 0.3s, height 0.5s;
        font-size: $dropdown-list-font-size;

        &--level1 {
            @include mq($min-screen: $screen-m, $max-screen: $screen-xl) {
                position: absolute;
                width: 100%;
                background-color: $dropdown-list-background;
                box-shadow: 0 3px 18px 0 rgba(0, 0, 0, 0.13);
                z-index: 99;
            }
        }

        &--level2 {
            padding-left: 20px;
        }
    }

    &__inner-item {
        position: relative;
        display: block;

        &.open {
            .dropdown-list__inner-link {
                text-decoration: none;

                & > .dropdown-list__icon {
                    transform: rotate(45deg);
                }
            }
        }

        &--level1 {
            .dropdown-list__inner-link {
                text-decoration: none;

                @include links(hover) {
                    font-weight: 700;
                    text-decoration: none;
                }
            }
        }

        &--level2 {
            .dropdown-list__inner-link {
                text-decoration: none;

                @include links(hover) {
                    font-weight: 400;
                    color: $dropwodn-list-inner-item-color;
                    text-decoration: underline;
                }
            }
        }
    }

    &__inner-link {
        text-decoration: none;

        @include links(active) {
            display: block;
            padding: 15px 20px;
            text-transform: none;
            font-weight: 400;
            color: $dropdown-list-link-color;
        }
    }
}
